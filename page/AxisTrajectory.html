<!DOCTYPE html>
<html>

<!-- <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>框架</title>
    <link rel="stylesheet" href="../layui/css/layui.css">
    <script src="../echarts.js"></script>
    <script src="../echarts-gl.js"></script>
</head> -->

<body>
    <div class="layui-row">
        <div class="layui-col-md3">
            <div style="text-align:center; line-height:120px; font-weight:bold; font-size: larger;" name="nowTime">时间</div>
        </div>
        <div class="layui-col-md2">
            <form class="layui-form" action="">
                <div class="layui-form-item">
                    <input type="radio" name="status" value="0" title="实时检测">
                    <input type="radio" name="status" value="1" title="当前查询" checked>
                    <input type="radio" name="status" value="2" title="历史查询">
                </div>
            </form>
        </div>
        <div class="layui-col-md2">
            <div class="layui-form">
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <div class="layui-input-inline">
                            <input type="text" class="layui-input" id="time1" placeholder="yyyy-MM-dd HH:mm:ss">
                            <input type="text" class="layui-input" id="time2" placeholder="yyyy-MM-dd HH:mm:ss">
                            <button type="button" class="layui-btn layui-btn-sm layui-btn-fluid layui-btn-normal" style="margin-top: 5px;">检索</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-col-md5">
        </div>
    </div>
    <div class="layui-row">
        <div class="layui-col-md12" style="border-style: solid;">
            <div class="layui-row">
                <div class="layui-col-md4">
                    <form class="layui-form" action="">
                        <select id="sss" lay-filter="">
                        </select>
                    </form>
                </div>
                <div class="layui-col-md4" name="nowTime">时间</div>
                <div class="layui-col-md4">转速</div>
            </div>
            <div class="layui-row">
                <div class="layui-col-md5" style="border-style: solid;">
                    <div class="layui-row">
                        <div class="layui-col-md12" id="table1" style=height:250px;></div>
                        <div class="layui-col-md12" id="table1_" style=height:250px;></div>
                    </div>
                </div>
                <div class="layui-col-md6" style="border-style: solid;">
                    <!-- <div class="layui-col-md5"> -->
                    <div class="layui-row">
                        <div class="layui-row">
                            <div class="layui-col-md5">
                                <!-- <div class="grid-demo grid-demo-bg1">轴心轨迹11</div> -->
                                <div class="layui-bg-red"></div>
                            </div>
                            <div class="layui-col-md2">
                                <div class="grid-demo grid-demo-bg1">轴心轨迹</div>
                            </div>
                            <div class="layui-col-md5">
                                <div class="layui-bg-white"></div>
                            </div>
                        </div>
                        <form class="layui-form" action="">
                            <div class="layui-form-item">
                                <input type="radio" name="status" value="0" title="原始轨迹" lay-filter="*"
                                    style="width: 10px;">
                                <input type="radio" name="status" value="1" title="一阶轨迹" lay-filter="*"
                                    style="margin-top: 5px;" checked>
                                <input type="radio" name="status" value="2" title="二阶轨迹" lay-filter="*"
                                    style="margin-top: 5px;">
                                <input type="radio" name="status" value="2" title="一二阶合成轨迹" lay-filter="*"
                                    style="margin-top: 5px;">
                            </div>
                        </form>
                        <div class="layui-col-md12" id="table2" style=height:430px;></div>
                    </div>
                </div>
                <div class="layui-col-md1">
                    <div class="grid-demo grid-demo-bg1" style=height:60px;>从驱动侧</div>
                    <div class="grid-demo grid-demo-bg1" style=height:100px;>轴转动方向</div>
                    <div class="grid-demo grid-demo-bg1" style=height:100px;>轴心轨迹方向</div>
                    <div class="grid-demo grid-demo-bg1" style=height:40px;>峰峰值</div>
                    <div class="grid-demo grid-demo-bg1" style=height:30px;>X:62</div>
                    <div class="grid-demo grid-demo-bg1" style=height:170px;>Y:62</div>
                </div>
            </div>
        </div>
    </div>
    <script src="../js/AxisTrajectory.js"></script>
    <!-- <script>
        layui.use('laydate', function () {
            var laydate = layui.laydate;
            laydate.render({
                elem: '#time1'
                , value: '2019-10-10 06:01:00'
                , isInitValue: true
                , type: 'datetime'
            });
            laydate.render({
                elem: '#time2'
                , value: '2020-02-10 14:01:00'
                , isInitValue: true
                , type: 'datetime'
            });
        });
        initName();
        function initName() {
            var slct = document.getElementById("sss");
            for (var i in checkedList) {
                var op = document.createElement("option")
                op.setAttribute('value', checkedList[i].id)
                op.innerHTML = checkedList[i].title;
                slct.appendChild(op)
            }
            layui.use(['form'], function () {
                layui.form.render('select')
            });
        }

        // echarts
        var _table1 = echarts.init(document.getElementById('table1'));
        var _table1_ = echarts.init(document.getElementById('table1_'));
        var _table2 = echarts.init(document.getElementById('table2'));

        var data1 = [];
        for (let i = 0; i < 300; i++) {
            // data[i] = [i, 2 * Math.sin(i*Math.PI/10) -1];
            data1[i] = [i, Math.cos(2 * Math.PI/(60) * i) * 15 + Math.cos(2 * Math.PI/(6) * i) * 3];
        }
        // var max = Math.max.apply(Math,data1);
        var data2 = [];
        for (let i = 0; i < 300; i++) {
            // data[i] = [i, 2 * Math.sin(i*Math.PI/10) -1];
            data2[i] = [i, Math.cos(2 * Math.PI/(60) * i) * 15 + Math.cos(2 * Math.PI/(6) * i) * 5];
        }
        // 指定图表的配置项和数据
        var option1 = {
            xAxis: {
                type: 'value',
                name: "时间/s",
                nameGap:30,
                nameLocation: 'middle',

            },
            yAxis: {
                type: 'value',
                name: "幅值/mm",
                nameLocation: 'middle',
                nameGap:30,
                max: 18
            },
            series: [
                {
                    data: data1,
                    type: 'line',
                    lineStyle: {
                        color: 'blue'
                    },
                    showSymbol: false,
                    markPoint: {
                        data: [
                            {
                                x: '15%',
                                y: '5%',
                                value: "X相时域波形 ",
                                symbol: 'roundRect',
                                label: {
                                    color: '#000'
                                },
                                itemStyle: {
                                    color: 'rgba(255,255,255,0)',
                                }
                            }
                        ]
                    },
                }
            ]
        };
        var option2 = {
            xAxis: {
                type: 'value',
                name: "时间/s",
                nameGap:30,
                nameLocation: 'middle',

            },
            yAxis: {
                type: 'value',
                name: "幅值/mm",
                nameGap:30,
                nameLocation: 'middle',
                max: 18
            },
            series: [
                {
                    data: data2,
                    type: 'line',
                    lineStyle: {
                        color: 'blue'
                    },
                    showSymbol: false,
                    markPoint: {
                        data: [
                            {
                                x: '15%',
                                y: '5%',
                                value: "Y相时域波形 ",
                                symbol: 'roundRect',
                                label: {
                                    color: '#000'
                                },
                                itemStyle: {
                                    color: 'rgba(255,255,255,0)',
                                }
                            }
                        ]
                    },
                }
            ]
        };
        data = [];
        A = [Math.cos((-Math.PI / 3)), Math.sin(-(Math.PI / 3))]
        for (let i = 0; i <= 360; i++) {
            //data[i]=[10 * (1 - Math.sin((Math.PI / 180) * i)), i];
            data[i] = [15 * Math.cos((Math.PI / 180) * i), 10 * Math.sin((Math.PI / 180) * i)];    //此处生成椭圆数据
            data[i] = [data[i][0]*A[0]-data[i][1]*A[1], data[i][0]*A[1]+data[i][1]*A[0]]
        }
        var option3 = {
            xAxis: {
                type: 'value',
                name: "X幅值/s",
                nameLocation: 'middle',
                nameGap:30,
                max: 20,
                min: -20
            },
            yAxis: {
                type: 'value',
                name: "Y幅值/mm",
                nameLocation: 'middle',
                nameGap:30,
                max: 20,
                min: -20
            },
            series: [
                {
                    data: data,
                    type: 'line',
                    lineStyle: {
                        color: 'blue'
                    },
                    showSymbol: false,
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        _table1.setOption(option1);
        _table1_.setOption(option2);
        _table2.setOption(option3);
        layui.use(['layer', 'form'], function () {
            var form = layui.form;
            //此处即为 radio 的监听事件
            form.on('radio(*)', function (obj) {
                // layer.msg('触发了事件3');
                // var $ = layui.$
                // var data = $(obj.elem);
                // var axis_name = data[0].title
                // var axis = data[0].name
                // var data = option1.series[0].data     //注意此处要加上[0]
                // var data_rest = [];  
                //生成随机数组    
                data = [];
                r1 = 15 * Math.random()
                r2 = 10 * Math.random()
                for (let i = 0; i <= 360; i++) {
                    data[i] = [r1 * Math.cos((Math.PI / 180) * i), r2 * Math.sin((Math.PI / 180) * i)];    //此处生成椭圆数据
                }
                option3.series[0].data = data
                _table2.clear();
                _table2.setOption(option3, true);
            }
            );
        });
    </script> -->
</body>